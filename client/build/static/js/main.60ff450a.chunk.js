(this["webpackJsonpwebsite-svt"]=this["webpackJsonpwebsite-svt"]||[]).push([[0],{72:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),c=a.n(n),i=a(35),s=a.n(i),l=a(13),o=a(15),u=a(16),d=a(2),h=a(4),j=a(5),b=a(7),p=a(6),m=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("main",{children:[Object(r.jsxs)("div",{className:"container-fluid jumbotron text-center bg1",children:[Object(r.jsx)("h1",{children:Object(r.jsx)("b",{children:"Vous consultez maintenant la revue \xe9cologique!"})}),Object(r.jsx)("br",{}),Object(r.jsx)("h5",{children:"R\xe9alis\xe9e par les \xe9l\xe8ves du TCS1 du GS AlBayane"})]}),Object(r.jsx)("div",{className:"container text-center jumbotron m-6",children:Object(r.jsx)("h2",{children:Object(r.jsx)("i",{children:"Cette revue contient les sujets redig\xe9s par les \xe9l\xe8ves du TCS1 portant sur le domaine de l'\xe9cologie. Ceci a \xe9t\xe9 fait sous la supervision de notre prof de SVT."})})})]})}}]),a}(n.Component),O=function(){var e=Object(o.b)(),t=e.loginWithRedirect;return!e.isAuthenticated&&Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(){return t()},children:"Log In"})},g=function(){var e=Object(o.b)(),t=e.logout;return e.isAuthenticated&&Object(r.jsx)("button",{className:"btn btn-danger",onClick:function(){return t()},children:"Log Out"})},f=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"Roboto",children:Object(r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(r.jsx)(l.b,{className:"navbar-brand navbar-header Roboto-Bold",to:"#",children:"Revue Ecologique"}),Object(r.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(r.jsx)("span",{className:"navbar-toggler-icon"})}),Object(r.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(r.jsxs)("div",{className:"navbar-nav",children:[Object(r.jsx)(l.b,{className:"nav-item nav-link m-",to:"/",style:{fontSize:20},children:"Acceuil"}),Object(r.jsx)(l.b,{className:"nav-item nav-link m-",to:"/articles",style:{fontSize:20},children:"Articles"}),Object(r.jsx)(l.b,{className:"nav-item nav-link m-",to:"/admin",style:{fontSize:20},children:"Admin"})]})}),Object(r.jsx)(O,{}),Object(r.jsx)(g,{})]})})}}]),a}(n.Component);l.b;var v=a(8),x=a.n(v),y=a(14),A=a(17),N=a.n(A),C=function(e){var t=e.itemsCount,a=e.pageSize,n=e.currentPage,c=Math.ceil(t/a);if(1===c)return null;var i=N.a.range(1,c+1);return Object(r.jsx)("nav",{children:Object(r.jsx)("ul",{className:"pagination m-2",children:i.map((function(t){return Object(r.jsx)("li",{className:t===n?"page-item active":"page item",children:Object(r.jsx)("a",{className:"page-link",href:"",onClick:function(){return e.onPageChange(t)},children:t})},t)}))})})};var S=a(37),k=a.n(S).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"revue-ecologique-tc1.eu.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"BueXgzRdy68PnEZbHXRm3beF7Ls61W8A"}).API_BASE_URL||"http://localhost:8001/api"}),w={insertArticle:function(e){return k.post("/article",e)},getAllArticles:function(){return k.get("/articles")},updateArticleById:function(e,t){return k.put("/article/".concat(e),t)},deleteArticleById:function(e){return k.delete("/article/".concat(e))},getArticleById:function(e){return k.get("/article/".concat(e))}},T=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={articles:[],pageSize:4,currentPage:1,sortColumn:{path:"titre",order:"asc"},isLoading:!1},e.componentDidMount=Object(y.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,w.getAllArticles().then((function(t){e.setState({articles:t.data.data,isLoading:!1})}));case 3:case"end":return t.stop()}}),t)}))),e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleSort=function(t,a){e.setState({sortColumn:{path:t,order:a}})},e}return Object(j.a)(a,[{key:"render",value:function(){if(0===this.state.articles.length)return Object(r.jsx)("p",{children:"Il n'y a aucun article pour le moment!"});var e=function(e,t,a){var r=(t-1)*a;return N()(e).slice(r).take(a).value()}(N.a.orderBy(this.state.articles,[this.state.sortColumn.path],[this.state.sortColumn.order]),this.state.currentPage,this.state.pageSize);return Object(r.jsxs)("div",{className:"container m-5",style:{fontSize:19},children:[Object(r.jsxs)("h3",{className:"m-3",children:["Affichage de ",this.state.articles.length," articles."]}),Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Titre"}),Object(r.jsx)("th",{children:"Date de cr\xe9ation"}),Object(r.jsx)("th",{children:"Auteur"})]})}),Object(r.jsx)("tbody",{children:e.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)(l.b,{to:"/articles/".concat(e._id),children:e.titre})}),Object(r.jsx)("td",{style:{paddingLeft:30},children:e.createdAt.substr(0,10)}),Object(r.jsx)("td",{style:{paddingRight:1},children:e.auteur})]})}))})]}),Object(r.jsx)(C,{itemsCount:this.state.articles.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange})]})}}]),a}(n.Component),P=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={article:{titre:"",paragraphe:"",auteur:""}},e.handleChange=function(t){var a=t.currentTarget,r=Object(u.a)({},e.state.article);r[a.name]=a.value,e.setState({article:r})},e.handleIncludeArticle=function(){var t=Object(y.a)(x.a.mark((function t(a){var r,n,c,i,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=e.state.article,n=r.titre,c=r.paragraphe,i=r.auteur,s={titre:n,paragraphe:c,auteur:i},t.next=5,w.insertArticle(s).then((function(t){window.alert("Article inserted successfully"),e.setState({titre:"",paragraphe:"",auteur:""})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"container m-3 jumbotron",style:{width:350,height:500,paddingTop:20,float:"left"},children:[Object(r.jsx)("h2",{className:"Roboto-Bold m-3",children:"Add Article"}),Object(r.jsxs)("form",{className:"m-3",onSubmit:this.handleIncludeArticle,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"titre",children:"Titre"}),Object(r.jsx)("input",{autoFocus:!0,value:this.state.titre,onChange:this.handleChange,id:"titre",name:"titre",type:"text",className:"form-control"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"paragraphe",children:"Paragraphe"}),Object(r.jsx)("input",{value:this.state.paragraphe,onChange:this.handleChange,id:"paragraphe",name:"paragraphe",type:"text",className:"form-control"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"auteur",children:"Auteur"}),Object(r.jsx)("input",{value:this.state.auteur,onChange:this.handleChange,id:"auteur",name:"auteur",type:"text",className:"form-control"})]}),Object(r.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})}}]),a}(n.Component),R=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={article:{id:""}},e.handleChange=function(t){var a=t.currentTarget,r=Object(u.a)({},e.state.article);r[a.name]=a.value,e.setState({article:r})},e.handleDeleteArticle=function(){var t=Object(y.a)(x.a.mark((function t(a){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=e.state.article.id,t.next=4,w.deleteArticleById(r).then((function(t){window.alert("Article deleted successfully"),e.setState({id:""})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"container m-3 jumbotron",style:{width:350,height:500,paddingTop:20,float:"left"},children:[Object(r.jsx)("h2",{className:"Roboto-Bold m-3",children:"Delete Article"}),Object(r.jsxs)("form",{className:"m-3",onSubmit:this.handleDeleteArticle,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"id",children:"ID"}),Object(r.jsx)("input",{value:this.state.article.id,onChange:this.handleChange,id:"id",name:"id",type:"text",className:"form-control"})]}),Object(r.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})}}]),a}(n.Component),L=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={article:{id:"",titre:"",paragraphe:"",auteur:""}},e.handleChange=function(t){var a=t.currentTarget,r=Object(u.a)({},e.state.article);r[a.name]=a.value,e.setState({article:r})},e.handleUpdateArticle=function(){var t=Object(y.a)(x.a.mark((function t(a){var r,n,c,i,s,l;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=e.state.article,n=r.id,c=r.titre,i=r.paragraphe,s=r.auteur,l={titre:c,paragraphe:i,auteur:s},t.next=5,w.updateArticleById(n,l).then((function(t){window.alert("Article updated successfully"),e.setState({id:"",titre:"",paragraphe:"",auteur:""})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"container m-3 jumbotron",style:{width:350,height:500,paddingTop:20,float:"left"},children:[Object(r.jsx)("h2",{className:"Roboto-Bold m-3",children:"Update Article"}),Object(r.jsxs)("form",{className:"m-3",onSubmit:this.handleUpdateArticle,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"id",children:"ID"}),Object(r.jsx)("input",{value:this.state.id,onChange:this.handleChange,id:"id",name:"id",type:"text",className:"form-control"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"titre",children:"Titre"}),Object(r.jsx)("input",{value:this.state.titre,onChange:this.handleChange,id:"titre",name:"titre",type:"text",className:"form-control"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"paragraphe",children:"Paragraphe"}),Object(r.jsx)("input",{value:this.state.paragraphe,onChange:this.handleChange,id:"paragraphe",name:"paragraphe",type:"text",className:"form-control"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"auteur",children:"Auteur"}),Object(r.jsx)("input",{value:this.state.auteur,onChange:this.handleChange,id:"auteur",name:"auteur",type:"text",className:"form-control"})]}),Object(r.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})}}]),a}(n.Component),_=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)("div",{className:"container m-2",style:{},children:Object(r.jsx)("h2",{className:"Roboto-Bold",style:{textAlign:"center",paddingLeft:440,paddingTop:20,fontSize:50},children:"Admin Panel"})}),Object(r.jsxs)("div",{style:{marginLeft:225},children:[Object(r.jsx)(P,{}),Object(r.jsx)(L,{}),Object(r.jsx)(R,{})]})]})}}]),a}(n.Component),I=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(h.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(y.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.id,e.next=3,w.getArticleById(t);case 3:a=e.sent,r.setState({titre:a.data.data.titre,paragraphe:a.data.data.paragraphe,imgLink:a.data.data.imgLink,auteur:a.data.data.auteur});case 5:case"end":return e.stop()}}),e)}))),r.state={id:r.props.match.params.id,titre:"",paragraphe:"",imgLink:"",auteur:""},r}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"container m-2",children:[Object(r.jsx)("h1",{style:{fontSize:60,padding:80},children:this.state.titre}),Object(r.jsxs)("div",{className:"jumbotron m-4",children:[Object(r.jsx)("p",{id:"paragraphe",style:{fontSize:30,paddingRight:90,paddingLeft:100},dangerouslySetInnerHTML:{__html:atob(this.state.paragraphe)}}),Object(r.jsx)("img",{src:this.state.imgLink,alt:"",style:{paddingLeft:100}})]})]})}}]),a}(n.Component);var B=function(){var e=Object(o.b)(),t=e.isAuthenticated,a=e.user;return Object(r.jsxs)("div",{children:[Object(r.jsx)(f,{}),Object(r.jsx)("div",{children:Object(r.jsxs)(d.d,{children:[Object(r.jsx)(d.b,{path:"/articles/:id",component:I}),Object(r.jsx)(d.b,{path:"/articles",component:T}),Object(r.jsx)(d.b,{path:"/admin",render:function(e){return t&&"admin"===a["https://rbac/role"]?Object(r.jsx)(_,Object(u.a)({},e)):Object(r.jsx)(d.a,{to:"/"})}}),Object(r.jsx)(d.b,{path:"/",component:m})]})})]})};a(72),a(73),a.p;s.a.render(Object(r.jsx)(l.a,{children:Object(r.jsx)(o.a,{domain:"revue-ecologique-tc1.eu.auth0.com",clientId:"BueXgzRdy68PnEZbHXRm3beF7Ls61W8A",redirectUri:window.location.origin,children:Object(r.jsx)(B,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.60ff450a.chunk.js.map